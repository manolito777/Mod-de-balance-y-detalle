je_victoria = {
	icon = "gfx/interface/icons/event_icons/crown_from_gutter.dds"

	group = je_group_historical_content

	complete = {
		custom_tooltip = {
			text = billy_died
			ruler = {
				NOT = { has_variable = is_billy }
			}
		}
	}

	on_complete = {
		custom_tooltip = hanover_union_ends
		if = {
			limit = {
				exists = c:GBR
				c:GBR = ROOT
			}
			trigger_event = { id = victoria.1 }
		}
	}

	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					exists = c:GBR
					c:GBR = ROOT
					ruler = { has_variable = is_billy }
				}
				random_list = {
					11 = { }
					1 = {
						ruler = { kill_character = yes }
					}
				}
			}
		}
	}

	invalid = {
		OR = {
			NOT = {
				exists = c:GBR
			}
			NOT = {
				exists = c:HAN
			}
			c:HAN = {
				NOT = {
					is_subject_of = c:GBR
				}
			}
			c:GBR = {
				custom_tooltip = {
					text = "DEBUG_NO_CHARACTER_IN_GBR_IS_VICTORIA"
					NOT = {
						any_scope_character = {
							has_variable = is_victoria
						}
					}
				}
			}
		}
	}

	weight = 10

	should_be_pinned_by_default = yes
}

je_canada_gbr = {
	icon = "gfx/interface/icons/event_icons/nationalism.dds"

	group = je_group_historical_content

	is_shown_when_inactive = {
		any_subject_or_below = {
			OR = {
				country_has_primary_culture = cu:anglo_canadian
				country_has_primary_culture = cu:franco_canadian
			}
			count >= 2
		}
		NOT = {
			OR = {
				country_has_primary_culture = cu:anglo_canadian
				country_has_primary_culture = cu:franco_canadian
			}
		}
	}

	possible = {
		has_technology_researched = nationalism
	}

	complete = {
		any_subject_or_below = {
			calc_true_if = {
				amount >= 9
				owns_entire_state_region = STATE_ONTARIO
				owns_entire_state_region = STATE_NEW_BRUNSWICK
				owns_entire_state_region = STATE_QUEBEC
				owns_entire_state_region = STATE_NEWFOUNDLAND
				owns_entire_state_region = STATE_ALBERTA
				owns_entire_state_region = STATE_BRITISH_COLUMBIA
				owns_entire_state_region = STATE_SASKATCHEWAN
				owns_entire_state_region = STATE_MANITOBA
				owns_entire_state_region = STATE_YUKON_TERRITORY
				owns_entire_state_region = STATE_NORTHWEST_TERRITORIES
				owns_entire_state_region = STATE_NUNAVUT
			}
		}
	}

	on_complete = {
		trigger_event = { id = can_aus.6 }
		hidden_effect = {
			if = {
				limit = {
					any_subject_or_below = {
						any_scope_state = {
							state_region = s:STATE_ONTARIO
						}
					}
				}
			}
			s:STATE_ONTARIO = {
				random_scope_state = {
			        set_hub_name = {
			            type = city
			            name = HUB_NAME_STATE_ONTARIO_city_ottawa
			        }
				}
			}
		}
	}

	weight = 100

	should_be_pinned_by_default = yes
}

je_australia_gbr = {
	icon = "gfx/interface/icons/event_icons/nationalism.dds"

	group = je_group_historical_content

	is_shown_when_inactive = {
		any_subject_or_below = {
			OR = {
				country_has_primary_culture = cu:australian
				country_has_primary_culture = cu:maori
			}
			count >= 2
		}
		NOT = {
			OR = {
				country_has_primary_culture = cu:australian
				country_has_primary_culture = cu:maori
			}
		}
	}

	possible = {
		has_technology_researched = nationalism
	}

	complete = {
		any_subject_or_below = {
			calc_true_if = {
				amount >= 7
				owns_entire_state_region = STATE_NEW_SOUTH_WALES
				owns_entire_state_region = STATE_VICTORIA
				owns_entire_state_region = STATE_TASMANIA
				owns_entire_state_region = STATE_QUEENSLAND
				owns_entire_state_region = STATE_SOUTH_AUSTRALIA
				owns_entire_state_region = STATE_WESTERN_AUSTRALIA
				owns_entire_state_region = STATE_NORTHERN_TERRITORY
				owns_entire_state_region = STATE_NORTH_ISLAND
				owns_entire_state_region = STATE_SOUTH_ISLAND
			}
		}
	}

	on_complete = {
		trigger_event = { id = can_aus.8 }
	}

	weight = 100

	should_be_pinned_by_default = yes
}

je_aberdeen_act = {
    icon = "gfx/interface/icons/event_icons/slavery.dds"

	group = je_group_historical_content

    immediate = {
        c:BRZ = {
            save_scope_as = brazil_scope
        }
    }

    scripted_button = je_aberdeen_act_button

    complete = {
        c:BRZ ?= {
            NOT = { 
                has_law = law_type:law_slave_trade 
            }
        }
    }

    on_complete = {
        trigger_event = { id = brazilian_slavery.1 }
        show_as_tooltip = {
            if = {
                limit = {
                    has_modifier = brazilian_slave_trade_modifier
                }
                remove_modifier = brazilian_slave_trade_modifier
            }
        }
    }

    on_monthly_pulse = {
        random_events = {
            85 = 0
            10 = brazilian_slavery.2 # Slaver Seized
            5 = brazilian_slavery.4 # Slaver Seized (Brazilian Waters)
        }
    }

    fail = {
        NOT = {
            has_law = law_type:law_slavery_banned
        }
    }

    invalid = {
        NOT = {
            exists = c:BRZ
        }
    }

    on_invalid = {
        if = {
            limit = {
                has_modifier = brazilian_slave_trade_modifier
            }
            hidden_effect = {
                remove_modifier = brazilian_slave_trade_modifier
            }
        }
    }

    timeout = 18250 # 50 Years

    weight = 1000
    should_be_pinned_by_default = yes
}

