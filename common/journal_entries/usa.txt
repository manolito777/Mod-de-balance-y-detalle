
je_indian_removal = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/indianremoval.dds"

	group = je_group_historical_content
	
	on_monthly_pulse = {
		random_events = {
			10 = 0 
			1 = native_resettlement.2 # john ross
			1 = native_resettlement.3 # Preparing for resettlement
			1 = native_resettlement.4 # Trail of Tears
		}
	}

	complete = {
		OR = {
			has_law = law_type:law_no_colonial_affairs
			cultural_acceptance_base = { target = cu:cherokee value >= acceptance_status_4 }
			custom_tooltip = {
				text = indian_removal_fail_tt
				NOT = {
					any_scope_state = {
						any_scope_pop = {
							culture = cu:cherokee
						}
					}
				}
			}
		}
	}
	
	on_complete = {
		custom_tooltip = {
			text = indian_removal_end
			if = {
				limit = {
					NOT = {
						any_scope_pop = {
							culture = cu:cherokee
						}
					}
				}
				trigger_event = { id = native_resettlement.5 }
			}
			else = {
				trigger_event = { id = native_resettlement.6 }
			}
		}
	}
	
	invalid = {
		OR = {
			NOT = { owns_entire_state_region = STATE_GEORGIA }
			NOT = {
				AND = {
					exists = c:SEQ
					exists = c:USA
					c:SEQ = { is_subject_of = c:USA }
				}
			}
		}
	}
	
	weight = 200
	
	should_be_pinned_by_default = yes
	
	transferable = no
}

je_texas_usa = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/texanstatehood.dds"

	group = je_group_historical_content

	complete = {
		exists = c:TEX
		c:TEX = {
			relations:root >= relations_threshold:cordial
			is_subject = no
			is_at_war = no
		}
	}

	on_complete = {
		custom_tooltip = texas_je_tt		
	}

	invalid = {
		OR = {
			NOT = { exists = c:TEX }
			c:TEX = { is_subject = yes }
		}
	}
	
	weight = 100
	
	transferable = no
}

je_oregon = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/oregontreaty.dds"

	group = je_group_historical_content

	is_shown_when_inactive = {
		exists = c:USA
		exists = c:GBR
		c:USA = ROOT
		s:STATE_WASHINGTON = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
		s:STATE_OREGON = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
		s:STATE_IDAHO = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
	}

	possible = { 
		OR = {
			has_interest_marker_in_region = region_pacific_coast
			custom_tooltip = {
				text = oregon_tt
				has_global_variable = oregon_trail_mapped
			}
			owns_entire_state_region = STATE_MONTANA
			owns_entire_state_region = STATE_WYOMING
		}
	}

	complete = {
		OR = {
			AND = {
				has_interest_marker_in_region = region_pacific_coast
				custom_tooltip = {
					text = oregon_tt
					has_global_variable = oregon_trail_mapped
				}
				owns_entire_state_region = STATE_MONTANA
				owns_entire_state_region = STATE_WYOMING
				c:GBR = {
					relations:ROOT >= relations_threshold:cordial
				}
			}
			AND = {
				owns_entire_state_region = STATE_WASHINGTON
				owns_entire_state_region = STATE_IDAHO
				owns_entire_state_region = STATE_OREGON
			}
		}
	}

	on_complete = {
		if = {
			limit = {
				s:STATE_WASHINGTON = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
				s:STATE_OREGON = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
				s:STATE_IDAHO = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
			}
			c:GBR = { trigger_event = { id = oregon.2 } }
		}
		else = {
			s:STATE_IDAHO = {
				add_homeland = cu:yankee
			}
			s:STATE_WASHINGTON = {
				add_homeland = cu:yankee
			}
			s:STATE_OREGON = {
				add_homeland = cu:yankee
			}
			add_modifier = {
				name = oregon_resolved
				months = normal_modifier_time
			}
		}
	}

	weight = 100
}

je_conquer_oregon = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/conqueroregon.dds"

	group = je_group_historical_content

	complete = {
		c:USA = {
			owns_entire_state_region = STATE_WASHINGTON
			owns_entire_state_region = STATE_IDAHO
			owns_entire_state_region = STATE_OREGON
		}
	}

	weight = 100

	transferable = no
}


je_seminole_wars = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/seminolewars.dds"

	group = je_group_historical_content

	complete = {
		owns_entire_state_region = STATE_FLORIDA
		NOT = { exists = c:SML }
	}

	on_complete = {
		show_as_tooltip = {
			if = {
				limit = {
					c:SEQ ?= { is_subject_of = c:USA }
					exists = s:STATE_OKLAHOMA.region_state:SEQ
				}
				custom_tooltip = {
					text = je_seminole_wars_removal
					s:STATE_FLORIDA.region_state:USA ?= {
						every_scope_pop = {
							limit = {
								culture = cu:muskogean
							}
							move_pop = s:STATE_OKLAHOMA.region_state:SEQ
						}
					}
				}
			}
			else = {
				s:STATE_FLORIDA.region_state:USA ?= {
					add_modifier = {
						name = florida_resettlement
						months = long_modifier_time
					}
				}
			}
		}
		trigger_event = { id = native_resettlement.7 }
	}

	immediate = {
		c:SML = {
			save_scope_as = seminoles
		}
		cu:muskogean = {
			save_scope_as = seminole_peoples
		}
		s:STATE_OKLAHOMA = {
			save_scope_as = oklahoma_region
		}
		c:SEQ = {
			save_scope_as = indian_territory
		}
		s:STATE_FLORIDA.region_state:USA = {
			save_scope_as = flarda
		}
	}

	fail = {
		OR = {
			c:SML ?= {
				owns_entire_state_region = STATE_FLORIDA
			}
			c:MSC ?= {
				owns_entire_state_region = STATE_FLORIDA
			}
		}
	}

	on_fail = {
		s:STATE_FLORIDA = {
			remove_claim = c:USA
		}
	}

	on_monthly_pulse = {
	}
	on_yearly_pulse = {
	}

	weight = 100

	should_be_pinned_by_default = yes
}

je_manifest_destiny_mexico = {
	icon = "gfx/interface/icons/journal_icons/usa_icons/mexicancession.dds"
	
	group = je_group_historical_content
	
	# note that if you change this, also update the decision
	complete = {
		owns_entire_state_region = STATE_CALIFORNIA
		owns_entire_state_region = STATE_NEVADA
		owns_entire_state_region = STATE_UTAH
		owns_entire_state_region = STATE_ARIZONA
		owns_entire_state_region = STATE_NEW_MEXICO
		owns_entire_state_region = STATE_TEXAS
	}

	on_complete = {
		trigger_event = { id = manifest_destiny.1 }
	}

	weight = 100
	should_be_pinned_by_default = yes
}

je_manifest_destiny_frontier_wars = {
	icon = "gfx/interface/icons/usa_icons/frontierwars.dds"
	
	group = je_group_historical_content
	
	# note that if you change this, also update the decision
	complete = {
		owns_entire_state_region = STATE_MONTANA
		owns_entire_state_region = STATE_WYOMING
		owns_entire_state_region = STATE_COLORADO
		owns_entire_state_region = STATE_NORTH_DAKOTA
		owns_entire_state_region = STATE_SOUTH_DAKOTA
		owns_entire_state_region = STATE_NEBRASKA
		owns_entire_state_region = STATE_KANSAS
	}
	
	on_complete = {
		trigger_event = { id = manifest_destiny.2 }
	}

	on_monthly_pulse = {
		random_events = {
			10 = 0
			1 = manifest_destiny.3
		}
	}
	
	weight = 100
	
	transferable = no
	should_be_pinned_by_default = yes
}
